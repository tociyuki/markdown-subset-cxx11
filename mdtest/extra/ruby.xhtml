<p>furigana <ruby>ABC<rp>(</rp><rt>abc def</rt><rp>)</rp></ruby> markdown.</p>

<p>furigana <ruby>ABC<rp>(</rp><rt>abc def</rt><rp>)</rp></ruby> markdown.</p>

<p><em>em <ruby>furigana <strong>strong</strong><rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</em></p>

<p><em><strong>em-strong <ruby>furigana** em-strong too<rp>(</rp><rt>foo</rt><rp>)</rp></ruby></strong> nesting</em></p>

<p><em>em <ruby>furigana **string<rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</em></p>

<p><ruby>furigana *string<rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</p>

<p><ruby>furigana **string<rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</p>

<p><ruby>furigana ***string<rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</p>

<p><ruby>furigana **<em>em</em><rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</p>

<p><ruby>furigana *<strong>strong</strong><rp>(</rp><rt>foo</rt><rp>)</rp></ruby> nesting</p>

<p>**not strong <ruby>furigana**<rp>(</rp><rt>foo</rt><rp>)</rp></ruby></p>

<p><ruby>for image <img src="img.png" alt="alt text" /> and link [text](foo)<rp>(</rp><rt>furigana</rt><rp>)</rp></ruby></p>

<p><a href="foo">for <ruby>furigana<rp>(</rp><rt>abc</rt><rp>)</rp></ruby></a></p>
